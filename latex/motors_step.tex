\subsection{Silnik krokowy}

Silniki krokowe są maszynami elektrycznymi bez komutatorowymi. Zazwyczaj wszystkie uzwojenia silnika są częścią stojana, podczas gdy rotor jest magnesem trwałym lub w przypadku silników VRM ({\em Variable Reluctance Motor}) zębatym blokiem z materiału magnetycznie miękkiego (patrz sekcja \ref{subsec:materialy_fer}). Komutacja (czyli zmiana kierunku/ uzwojenia w którym następuje przepływ prądu elektrycznego) musi być wymuszona poprzez zewnętrzne urządzenie sterujące maszyną- takie sterowniki są zazwyczaj projektowane w taki sposób, aby zapewnić możliwość utrzymania wirnika w niemal dowolnej pozycji kątowej, oraz obracać nim w obu kierunkach. 

\subsubsection{Rodzaje silników krokowych}

Silniki krokowe ze względu na konstrukcję można podzielić na trzy główne grupy: 
\begin{easylist}
	& silniki o zmiennej reluktancji,
	& z magnesem trwałym,
	& hybrydowe.
\end{easylist}

\insertImg{grafiki/reluctance_moment.png}
		{Powstawanie reluktancyjnego momentu obrotowego.}
		{przepiorkowski}

Reluktancja jest parametrem analogicznym do rezystancji elektrycznej, lecz odniesionym do strumienia magnetycznego- jest to inaczej ,,rezystancja magnetyczna'' (patrz sekcja \ref{subsec:reluktancja}). Podobnie jak prąd płynie drogą o najmniejszej rezystancji, tak linie sił pola skupiają się w obszarze o najmniejszej reluktancji. Rysunek \ref{grafiki/reluctance_moment.png} przedstawia powstawanie reluktancyjnego momentu obrotowego. Strumień indukcji $ \Phi $ to funkcja prądu uzwojenia $ I $ i reluktancji obwodu magnetycznego $ Rm $. 

\begin{equation} \label{eq:steper1}
	\Phi = \frac{I}{Rm}
\end{equation}

Obrócenie ruchomego elementu o kąt $ \alpha $ spowoduje że będzie on próbował powrócić do położenia $ \alpha = 0 $, w którym reluktancja obwodu jest najmniejsza. W silnikach VRM przepływ prądu stałego przez uzwojenia powoduje, że zęby wirnika ustawiają się naprzeciw zasilanego uzwojenia.

\insertImg{grafiki/vrm_przekroj.png}
		{Silnik o zmiennej reluktancji (VRM)- Przekrój.}
		{przepiorkowski}

W odróżnieniu do VRM, wirnik silnika krokowego PM ({\em Permanent Magnet}- Magnes trwały) nie posiada zębów. Jest wykonany w postaci walca naprzemiennie namagnesowanego biegunami N i S. Specyficzny rodzaj zębów ma rdzeń stojana. W zależności od kierunku przepływu prądu w uzwojeniu przyciągane są odpowiednie bieguny wirnika (resunek \ref{grafiki/pm_stepper.png}).

\insertImg{grafiki/pm_stepper.png}
		{Zasada działania silnika PM.}
		{ni}
		
Główną zaletą silnika krokowego PM jest zastosowanie magnesów trwałych w stojanie, dzięki czemu nie ma potrzeby stosowanie szczotek jak w silnikach DC oraz jego niska cena. Wadą tego typu maszyny jest relatywnie niski moment obrotowy i brak możliwości rozwijania dużych prędkości obrotowych. \\

Silnik hybrydowy łączy w sobie cechy obu rozwiązań, dzięki czemu zostały poprawione takie parametry jak:
\begin{easylist}
	& moment obrotowy, 
	& maksymalna prędkość obrotowa, 
	& rozdzielczość kroku.
	\\
\end{easylist}

Niestety silniki hybrydowe są około 2-3 razy droższe od silników PM. Wirnik silnika HB ({\em Hybrid Motor}) jest zbudowany z uzębionych nabiegunników i magnesu trwałego, powodującego naprzemienne magnesowanie zębów biegunami N i S. Uzębiony stojan konstrukcją przypomina ten z silnika VRM. 

\insertImgSetSize{grafiki/stepper_budowa.png}
		{70}
		{Konstrukcja dwufazowego silnika krokowego hybrydowego.}
		{enggarage}
		
W silniku HB wirujące pole stojana ,,przerzuca'' wirnik z jednego położenia do drugiego na zasadzie jak w silniku VRM. Jest to możliwe dzięki przesunięciu ,,północnej'' i ,,południowej'' części wirnika o pół ząbka. Silniki HB dzięki poprawionym parametrom są obecnie najbardziej popularnymi silnikami krokowymi, pomimo niskiej ceny silników PM.
		
\insertImgSetSize{grafiki/stepper_rotor.png}
		{70}
		{Budowa wirnika silnika krokowego hybrydowego dwufazowego.}
		{edw_sierpien_2002}

\subsubsection{Sterowanie}

W pierwszej kolejności należy rozróżnić sposób zasilania silnika krokowego, który może być unipolarny lub bipolarny (rys. \ref{grafiki/stepper_zasilanie_uni_bi.png}).

\insertImg{grafiki/stepper_zasilanie_uni_bi.png}
		{Sposób sterowania (zasilania) silnika krokowego dwufazowego- z lewej unipolarnie, z prawej bipolarnie.}
		{hackaday}

Przy zasilaniu unipolarnym, dla pojedynczego uzwojenia na zewnątrz silnika wyprowadzone są trzy przewody- Oba końce cewki i odczep w połowie jej długości. Podłączając do odczepu ,,+'' zasilania można sterować połówkami uzwojeń zwierając w odpowiedniej kolejności i na odpowiedni czas końcówki do masy. W zasilaniu bipolarnym, prąd płynie zawsze przez całe uzwojenie (z silnika wyprowadzone są tylko dwa przewody na cewkę). Zaletą wariantu unipolarnego jest możliwość znacznego uproszczenia układu sterowania. Poważną wadą natomiast jest to, że prąd podawany jest zawsze tylko na połowę danego uzwojenia, co ma negatywne przełożenie na moment obrotowy. 

\insertImg{grafiki/stepper_simple.png}
		{Uproszczony model silnika krokowego dwufazowego o kroku 90\degree.}
		{howtomecha}

Oddzielną sprawą jest sposób/ sekwencja podawania impulsów prądowych do uzwojeń silnika. Sterowanie pod tym względem dzieli się na:

\begin{easylist}
	& Falowe, 
	& Pełnokrokowe, 
	& Półkrokowe,
	& Mikrokrokowe.
	\\
\end{easylist}

Do pomocy w wyjaśnieniu poszczególnych typów sterowania posłuży rysunek \ref{grafiki/stepper_simple.png}, prezentujący uproszczony silnik krokowy. Maszyna składa się z wirnika zbudowanego jak na rys. \ref{grafiki/stepper_rotor.png} tyle że z ilością zębów (na wirniku i stojanie) pozwalającą osiągnąć pełen obrót w czterech pełnych komutacjach. Silnik posiada 2 uzwojenia A i B nawinięte w taki sposób, że pary A/A' i B/B' są ze sobą połączone (uzwojenie podzielone na dwie sekcje). Przykładając napięcie do cewki A, w zależności od polaryzacji tego napięcia, prąd będzie wpływał przez uzwojenie A i wypływał z uzwojenia A' lub na odwrót. Tak samo ma się sytuacja w przypadku cewki B.

\tocLessLeftNorm{Sterowanie falowe}

W przypadku braku zasilania, wirnik silnika ustawi się w jednej z czterech spoczynkowych pozycji (0\degree, 90\degree, 180\degree lub 270\degree). Dzieje się tak dlatego, że namagnesowany wirnik usiłuje zająć taką pozycję, aby reluktancja obwodu magnetycznego była jak najmniejsza, tzn. aby namagnesowane zęby wirnika były ustawione w jednej linii z dowolną parą zębów stojana. Znikomy moment obrotowy powodujący takie pozycjonowanie to inaczej moment bezprądowy (spoczynkowy). 

\insertImgSetSize{grafiki/stepper_sterowanie_falowe.eps}
		{100}
		{Sekwencja zasilania uzwojeń przy sterowaniu falowym (obrót wirnika z rys. \ref{grafiki/stepper_simple.png} według wskazówek zegara).}
		{oprWlasne}

Rysunek \ref{grafiki/stepper_sterowanie_falowe.eps} prezentuje sekwencję dzięki której wirnik obróci się o trzy pełne obroty w prawo przy zastosowaniu sterowania falowego. Na osi odciętych znajdują się kolejne chwile w czasie, a na osi rzędnych wartość potencjału przyłożonego do danego zacisku (wartości 1 i 0 prezentujące stan wysoki lub niski potencjału). Aby wirnik obracał się w przeciwnym kierunku, sekwencję należy odtworzyć w odwrotnej kolejności. Jak widać na przebiegach, w danym momencie w czasie prąd znajduje się zawsze tylko w jednym z uzwojeń, co nie umożliwia uzyskania maksymalnego dla danej maszyny momentu obrotowego. Pomimo że sterowanie falowe nie zapewnia uzyskania optymalnego momentu obrotowego, to przy zastosowaniu w niektórych aplikacjach jest wystarczające, a ponadto jest jest najprostsze do zaimplementowania.

\tocLessLeftNorm{Sterowanie pełnokrokowe}

W trybie sterowania pełnokrokowego prąd płynie przez oba uzwojenia jednocześnie. Nie ma to wpływu na prędkość obrotową wirnika, ale ma znaczący wpływ na moment obrotowy, który jest dwa razy większy niż w trybie falowym. Pełny obrót wirnika dalej jest osiągany w czterech "ruchach", ale absolutna pozycja kątowa w każdym z nich jest względem trybu falowego przesunięta o 45\degree.

\insertImgSetSize{grafiki/stepper_sterowanie_krokowe.eps}
		{100}
		{Sekwencja zasilania uzwojeń przy sterowaniu pełnokrokowym (obrót wirnika z rys. \ref{grafiki/stepper_simple.png} według wskazówek zegara).}
		{oprWlasne}
		
Rysunek \ref{grafiki/stepper_sterowanie_krokowe.eps} przedstawia przebiegi dla 3 obrotów, sterując pełnokrokowo. Kolejne pozycje wirnika są następujące: 45\degree w pierwszym interwale czasowym, 135\degree w drugim, 225\degree w kolejnym i 315\degree w ostatnim (dla danego obrotu). Potem cykl się powtarza. Tryb pełnokrokowy pozwala osiągnąć optymalny dla danego silnika moment obrotowy, ale niestety rozdzielczość obrotu jest ograniczona do ilości kroków na obrót danego modelu maszyny. Typowe wartości kroków na obrót w silnikach krokowych hybrydowych to 100 (krok o rozdzielczości 3.6\degree), 200 (1.8\degree) i 400 (0.9\degree). Aby uzyskać większą rozdzielczość kroku, należy zastosować sterowanie półkrokowe lub mikrokrokowe.

\tocLessLeftNorm{Sterowanie półkrokowe}

Tryb półkrokowy jest połączeniem sterowania falowego i pełnokrokowego. Rozdzielczość obrotowa względem poprzednich trybów jest dwa razy większa, dlatego że uzwojenia naprzemiennie zasilane są pojedynczo/ oba jednocześnie.

\insertImgSetSize{grafiki/stepper_sterowanie_polkrokowe.eps}
		{100}
		{Sekwencja zasilania uzwojeń przy sterowaniu półkrokowym (obrót wirnika z rys. \ref{grafiki/stepper_simple.png} według wskazówek zegara).}
		{oprWlasne}
		
Wadą takiego rozwiązania jest zmienny moment obrotowy- co drugi krok będzie "słabszy". Może to spowodować szarpanie wirnika przy dużych obrotach. Przy niskich prędkościach i obciążeniach natomiast, efekt ten rzadko występuje i można uzyskać polepszoną płynność ruchu, w porównaniu do poprzednich trybów. Aby uniknąć efektu zmiennego momentu, można zastosować sterowanie półkrokowe ze zmiennym prądem (rys. \ref{grafiki/stepper_sterowanie_polkrokowe_zmienne.eps}). Na rysunku widać że w momentach kiedy różnica potencjałów występuje tylko na jednym z uzwojeń, jest ona dwa razy większa niż w przypadku kiedy zasilane są obie cewki. Prąd płynący w uzwojeniach jest proporcjonalny do przyłożonego do te nich napięcia, dlatego moment się wyrównuje i silnik nie jest narażony na szarpanie. Rozwiązanie te także nie pozostaje bez wad- Zakładając że dla momentu w czasie, w którym przez oba uzwojenia płynie prąd, wartość tego prądu jest maksymalna dla danego modelu silnika w każdym z uzwojeń, oznacza to że w chwilach kiedy kiedy napięcie jest podawane na tylko jedno uzwojenie, prąd w nim płynący jest większy od nominalnego (tak jak na rys. \ref{grafiki/stepper_sterowanie_polkrokowe_zmienne.eps}). To naraża silnik na nadmierne grzanie, a nawet na uszkodzenie. Z drugiej strony można założyć że nominalny prąd ma płynąć w momencie zasilania jednego uzwojenia, a dwa razy mniejszy przy zasilaniu dwóch. Ten tryb jest bezpieczny, ale optymalny moment obrotowy nie jest uzyskiwany.

\insertImgSetSize{grafiki/stepper_sterowanie_polkrokowe_zmienne.eps}
		{100}
		{Sekwencja zasilania uzwojeń przy sterowaniu półkrokowym ze zmiennym prądem (obrót wirnika z rys. \ref{grafiki/stepper_simple.png} według wskazówek zegara).}
		{oprWlasne}

\clearpage

